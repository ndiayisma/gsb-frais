{% extends 'base.html.twig' %}

{% block title %}Hello ComptableController!{% endblock %}

{% block body %}
    <h1 class="text-2xl font-bold mb-4">Voici les Top 3 des Visiteurs ayant le plus de Montant </h1>

    <form method="post">
        <div class="container mx-auto">
            <div class="col text-center">
                <select name="mois" id="mois">
                    {% for key, month in moisList %}
                        <option value="{{ key }}">{{ month }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="col text-center">
                <button type="submit" class="btn btn-primary">Valider</button>
            </div>
        </div>
    </form>

    {% if fichesFrais is not null %}

            <div class="relative flex flex-col w-full h-full overflow-scroll text-gray-700 bg-white shadow-md rounded-lg bg-clip-border">
                <table class="w-full text-left table-auto min-w-max text-slate-800">
                    <thead>
                    <tr class="text-slate-500 border-b border-slate-300 bg-slate-50">
                        <th class="p-4">
                            <p class="text-sm leading-none font-normal">
                                Nom
                            </p>
                        <th class="p-4">
                            <p class="text-sm leading-none font-normal">
                                Montant
                            </p>
                        </th>
                    </tr>
                {#  { fiche.user.nom }} {{ fiche.user.prenom }} a un montant de {{ fiche.montantValid }} € #}
                    </thead>
                    <tbody>
                     {% for fiche in fichesFrais %}
                        <tr class="border-b border-slate-300">
                            <td class="p-4">
                                <p class="text-sm leading-none font-normal">
                                    {{ fiche.user.nom }} {{ fiche.user.prenom }}
                                </p>
                            </td>
                            <td class="p-4">
                                <p class="text-sm leading-none font-normal">
                                    {{ fiche.montantValid }} €
                                </p>
                            </td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>

    {% endif %}

{% endblock %}
